{% load static %}
<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Manage</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="{% static 'style/my.css' %}">
</head>

<body>
    <div id="index">
        <nav class="navbar is-transparent">
            <div class="navbar-brand">
                <a class="navbar-item" href="">
                    <img src="{% static 'image/safari.png' %}" alt="contact_system" width="30" height="40">
                </a>
                <div class="navbar-burger burger" data-target="navbarExampleTransparentExample">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <div id="navbarExampleTransparentExample" class="navbar-menu">
                <div class="navbar-end">
                    <div class="navbar-item">
                        <div class="field is-grouped">
                            <p class="control">
                                <a class="bd-tw-button button" href="/logout">
                                    <span>
                                        注销
                                    </span>
                                </a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <el-radio-group v-model="isCollapse" style="margin-bottom: 20px;">
            <el-radio-button :label="false">展开</el-radio-button>
            <el-radio-button :label="true">收起</el-radio-button>
        </el-radio-group>
        <el-container style="height: 600px; border: 1px solid #eee">
            <el-menu default-active="1-4-1" class="el-menu-vertical-demo" @open="handleOpen" @close="handleClose"
                :collapse="isCollapse">
                <el-submenu index="1">
                    <template slot="title">
                        <i class="el-icon-location"></i>
                        <span slot="title">合同管理</span>
                    </template>
                    <el-menu-item-group title="·角色1">
                        <el-menu-item index="1-1" data-target="#assignment" @click="setiframeScr('setcontract')">分配合同管理人员</el-menu-item>
                    </el-menu-item-group>
                    <el-menu-item-group title="·角色2">
                        <el-menu-item index="1-2" data-target="#assignment1" @click="setiframeScr('mycontract')" >我的合同</el-menu-item>
                    </el-menu-item-group>

                </el-submenu>
                <el-menu-item index="2">
                    <i class="el-icon-menu"></i>
                    <span slot="title">用户管理</span>
                </el-menu-item>
                <el-menu-item index="3" disabled>
                    <i class="el-icon-document"></i>
                    <span slot="title">角色管理</span>
                </el-menu-item>
                <el-menu-item index="4">
                    <i class="el-icon-setting"></i>
                    <span slot="title">客户管理</span>
                </el-menu-item>
                <el-menu-item-group title="·boss">
                    <el-menu-item index="1-2">日志</el-menu-item>
                </el-menu-item-group>
            </el-menu>


            <el-container>
                    <iframe v-if="iframeScr!=''" :src="iframeScr" height="100%" width="100%"></iframe>
                    <iframe v-else :src="'mycontract'" height="100%" width="100%"></iframe>
            </el-container>
        </el-container>
    </div>
</body>

<!-- import Vue before Element -->
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<!-- 引入组件库 -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

<script>
    var index = new Vue({
        el: '#index',
        data() {
            return {
                isCollapse: true,
                iframeScr:'',
            };
        },
        methods: {
            handleOpen(key, keyPath) {
                console.log(key, keyPath);
            },
            handleClose(key, keyPath) {
                console.log(key, keyPath);
            },
            setiframeScr(scr){
                this.iframeScr=scr;
            }
        }
    })

</script>


</html>